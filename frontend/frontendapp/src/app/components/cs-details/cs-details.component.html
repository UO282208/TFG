<div class="cs-details">
    <h2>Detalles de la Obra</h2>
    <hr>
    <h3>Restricciones</h3>
    <div class="alert alert-warning" role="alert" *ngIf="csDetails.restrictionsViolated.length">
      <p *ngFor="let msg of csDetails.restrictionsViolated">{{ msg }}</p>
    </div>
    <button type="button" class="btn btn-primary" (click)="addRestriction()">
      Añadir Restricciones
    </button>
    <hr>
    <h3>Detalles de la Obra</h3>
    <table>
      <thead>
        <tr>
          <th>Componentes</th>
          <th>Unidades</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Número de Transformadores</td>
          <td>{{ csDetails.numberOfTransformers }}</td>
        </tr>
        <tr>
          <td>Número de Tanques de Expansión</td>
          <td>{{ csDetails.numberOfExpansionTanks }}</td>
        </tr>
        <tr>
          <td>Número de Radiadores</td>
          <td>{{ csDetails.numberOfRadiators }}</td>
        </tr>
        <tr>
          <td>Número de Puntos de Conexión</td>
          <td>{{ csDetails.numberOfConnectionPoints }}</td>
        </tr>
        <tr>
          <td>Número de Muros Cortafuegos</td>
          <td>{{ csDetails.numberOfFirewalls }}</td>
        </tr>
        <tr>
          <td>Fecha de última Subida</td>
          <td>{{ csDetails.lastDayUploaded | date: 'short' }}</td>
        </tr>
      </tbody>
    </table>
</div>
<hr>
<div class="row">
  <div class="col-8">
    <label class="btn btn-default p-0">
      <input type="file" (change)="selectFile($event)" accept=".jpg,.jpeg,.png,.webp"/>
    </label>
  </div>

  <div class="col-4">
    <button class="btn btn-success btn-sm" [disabled]="hasUploadedToday() || !currentFile" (click)="upload()">
      Subir
    </button>
  </div>
</div>

@if (message) {
<div class="alert alert-secondary" role="alert">{{ message }}</div>
}
<hr>
<button type="button" class="btn btn-danger" (click)="goBack()">
  Volver Atrás
</button>
